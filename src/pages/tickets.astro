---
const response = await fetch("https://fcjitciuvvjnpyohjrbx.supabase.co/rest/v1/tickets", {
  method: "GET",
  headers: {
    apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZjaml0Y2l1dnZqbnB5b2hqcmJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY0OTY1NDQsImV4cCI6MjAxMjA3MjU0NH0.hqEiYxGAHflWDfWpEC53ykk3Y2DA57jMZbBYXMcWYr8",
  },
});
const data = await response.json();

import MainLayout from "../layouts/MainLayout.astro";
import Headline from "../components/Headline.astro";
import Ticket from "../components/Ticket.astro";
---

<MainLayout>
  <section class="margintop">
    <Headline textbox={true} overskrift_bold="Tickets" overskrift_thin="2024" text="Don't hesitate - Go find your tickets for this years conference, with the theme Degrowth & Consumerism" />
  </section>
  <section class="ticketsgrid">
    {
      data.map((ticket) => {
        return <Ticket data={ticket} />;
      })
    }
  </section>
</MainLayout>

<style>
  .margintop {
    margin-top: 7rem;
  }

  .ticketsgrid {
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
    justify-content: center;
  }
</style>
